NodeJS作用：本来JS在浏览器中运行，只能折腾浏览器里面的东西。在服务器里面运行，可以直接和window/liunx等系统交互

NodeJS是什么：能在服务器端 javascript 跨平台 运行环境

Nodejs的组成
    1.natives module
        Natives module
        当前层内容由JS实现
        提供应用程序可直接调用库，例如fs，path，http等
        JS语言无法直接操作底层硬件设置

    2.builtin modules
        Builtin modules"胶水层"    
        问题：js有的只是调用接口，底层的交互是C或者C++，这一层帮忙找到对应的C++开发的功能

    .v8引擎 libuv c-ares httpparser zlib ...
        最下层：V8和一些具体的功能模块
        V8：相当于虚拟机，执行JS代码，提供桥梁接口（调用C与C++转换）

    Libuv：事件循环、事件队列、异步IO

    4.CPU RAM DISK OS

原理：Node采用geogle开发的v8引擎，用事件驱动、非阻塞、异步I/O模型等技术提高性能，可优化应用程序的传输量和规模。
    阻塞：IO速度有瓶颈，IO的操作阻塞线程回复的执行，线程都要等IO返回数据，占用内存空间
          非阻塞：CPU的时间片被拿出来处理其他事务。重复调用IO操作，看IO是否完成，也被叫做轮寻，业务层得到的不是数据而是取数据的状态。Node模式，所有请求用单线程，不因为IO阻塞。
    异步IO：IO是应用程序的瓶颈所在
            异步IO提高性能无采原地等待结果返回
            IO属于操作系统级别，平台都有对应实现，libuv进行了抽象的封装
    单线程：
        问题：单线程如何实现高并发？
        解决：
            异步 非阻塞IO 事件循环 事件驱动架构 回调通知的方式 实现非阻塞调用 去做到并发
            通俗：多个请求 先从上往下执行，等待libuv库工作，然后根据顺序一一回复数据
        注意：只有运行js代码的主线程是单线程，实际上Libuv有线程池。网络IO，其他的线程池去处理。如果不够用可以修改线程数。
            增加了安全，减少内存开销
            缺点：处理CPU密集任务时不足，无法体现多核的优势
        
特点：优点：1.开发成本低，硬件成本大幅度降低
     缺点：1.无法处理人太多的场景。可以增加服务器的数量。   

node的用途：
    1.Web服务API，比如REST
    2.实时多人游戏
    3.后端的Web服务
    4.基于Web的应用
    5.多客户端通信，如即时通信
    6.淘宝中层服务器
    7.IO高并发的场景，不过分涉及业务
    8.操作数据的API服务
Node功能：
（1）cmd运行指定目录的JS文件：
    node 路径/文件名.js

全局对象：
    每一个js文件都是一个单独的Module模块对象，在所有的js对象之上，有全局对象
    1.global：该对象表示Node所在的全局环境，类似于浏览器window对象，所有对象挂载它下面
     2.process：该对象表示Node所处的当前进程，允许开发者与进程互动
     3.console：该对象指向Node内置的console模块，提供命令行环境中的标准输入、标准输出功能
     4.Buffer：该对象用于处理二进制数据
     5.module：该对象用于访问当前模块的信息

全局函数：
    1.定时器函数：分别是setTimeout(), clearTimeout(), setInterval(), clearInterval()
    2.require：用于加载模块；
        加载完了放在内存之中，之后调用同样的都调用这个
    3.Buffer()：用于操作二进制数据。

全局变量：
    __filename：指向当前运行的脚本文件名。
    __dirname：指向当前运行的脚本所在的目录。
    eg:除此之外，还有一些对象实际上是模块内部的局部变量，指向的对象根据模块不同而不同，但是所有模块都适用，可以看作是伪全局变量，主要为module, module.exports, exports等。

    如果要自主创建全局变量，用a=5 而不是var a = 5，后者不管用了

Nodejs事件驱动架构
    主体发布消息，其他实例接受消息
