计算机组成
    CPU
        包含：（1）PC 程序计数器  下一条指令执行的内存地址 PC也是寄存器的一种
              （2）寄存器  用于存PC从内存提取的数据 有几十个寄存器，每个功能都不同
              （3）ALU 数学逻辑单元  用于计算，计算完后写回内存
              （4）Cache 缓存 用于保存线程现场


    所有的高级语言，最后要通过编译器或解释器转化为机器语言。
    缓存：
    
    问题：CPU比内存快太多了，大约一百倍，所以为了提高运算速度，必须要用到缓存
    L1 L2 L3的关系：L1,L2cache在寄存器里，每个CPU的核有一个；L3 cache在寄存器外，内存之前，一个CPU共享一个L3；然后是内存，多个CPU共享内存。

    问题：CPU从内存读取1byte，不是只读一位，而是把数据块拿过来
        空间局部性：拿数据，成块拿过来，充分发挥CPU的针脚读取数据的能力。这一块是64字节
        问题：这个块叫什么？
            缓存行 cache line：
                缓存行越大，局部空间效率越高，但读取时间慢；
                缓存行越小，局部空间效率越低，但读取时间快。
                取一个折中值（工业实践的最优化），64字节

    内存：




程序
    程序是什么：比如QQ.exe，躺在硬盘上，就是程序
    进程是什么：是资源分配的基本单位。
            通俗：程序运行时放在内存的指令和数据。双击QQ.exe，出现一程序，把QQ.exe的资源（指令和数据）放在内存上。
    线程是什么：线程是程序执行的基本单位。
    程序如何开始执行：CPU执行的就是一个线程，main线程。
            举例 计算a = 2 + 3     
                (1) CPU读指令
                (2) 存储指令地址
                (3) 2,3拿到寄存器
                (4) ALU计算
                (5) 回写
    
    线程如何调度：
        linux OS有线程调度器

操作系统：
    问题：一开始的时候，所有的app直接调度底层硬件。但是App多了就打架，出bug
    解决：在硬件和app中间，出现操作系统层，统一管理线程，为CPU进行调度（给CPU扔指令扔数据）
    
    线程如何调度：操作系统OS进行调度
    
    调度策略：站在操作系统角度，怎么分配给线程CPU计算资源
    
    线程切换：CPU保存现场，执行新线程，恢复现场，执行原线程的过程
                注意：线程不是越多越好，如果线程太多，就会把资源浪费在调度上
    保存现场：把线程调度中断执行别的时，要把现场保存  

    用户线程和内核线程：
        java用户线程和内核线程是一一对应。如果线程太多，操作系统调度资源话费太多，就崩了
        Go语言是m:n关系    
        java里有线程池，每个线程有其任务队列，但是任务与任务之间是不能做同步的。go语言是可以同步的。

锁的概念：
    问题：多线程带来的问题。同时访问一个资源导致数据混乱
    概念：多线程环境下，要保证数据的一致性，要采取的手段。
         举例：1.数据库修改数据，必须有锁
              2.一百个线程，n++一万次。没有锁远远不到一百万   

    问题:不持有锁的线程怎么办？
            1.忙等待、自旋等待 while()，轻量级锁    自旋锁，CAS是自旋锁的方案
            2.等待队列，需要经过操作系统OS调度 重量级锁
        问题：轻量级锁一定比总量级锁轻吗？当大量线程在等待访问被锁的资源，大量线程while空置，极度消耗资源